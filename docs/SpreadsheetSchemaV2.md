## GTFS Schedule Schema

 Field Name         |Type|Presence| Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|--------------------|-|-|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id                 |  Unique ID | System generated | Unique identifier for the feed.<br>Note that this field replaces mdb_source_id, that only contained digits, from a previous version of the schema. <br>Now an id can contain non-numeric characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
| data_type          | Enum| Required| The data format that the feed uses: `gtfs`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 
| features           | Array of Enums | Optional | An array of features that the feed includes based on https://gtfs.org/getting-started/features/overview/. This list is automatically extracted from [the Canonical GTFS Schedule Validator](https://gtfs-validator.mobilitydata.org/).<br>Note that an array is represented by elements separated by a vertical line.                                                                                                                                                                                                                                                                                                                                                                                                    
| status             | Enum | Optional | Describes status of the feed. Should be one of: <ul><li>`active`: Feed should be used in public trip planners.</li><li>`deprecated`: Feed is explicitly deprecated and should not be used in public trip planners.</li><li>`inactive`: Feed hasn't been recently updated and should be used at risk of providing outdated information.</li><li>`development`: Feed is being used for development purposes and should not be used in public trip planners.</li></ul> `active` and `inactive` statuses are updated based on the [feedServiceWindowStart and feedServiceWindowEnd values extracted from the Canonical GTFS Schedule Validator](https://gtfs-validator.mobilitydata.org/rules.html#JsonReportFeedInfo-type). |
| is_official        | Enum | Optional | Flag indicating if the source comes from the agency itself or not.  <ul><li>`True`: Feed comes from the agency as an authorized source.</li><li>`False`: Feed is not from an official source, e.g. created by researchers or partners unaffiliated with the agency or municipality.</li></ul>Feed's is_official status is assumed to be undefined `undefined` if the cell is empty, meaning we cannot say if it's official or not.                                                                                                                                                                                                                                                                                       |  
| redirect           | Object | Optional | When a feed is deprecated by a provider and replaced with a new URL, redirect information is provided to point to one or more new feed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <ul><li>id</li></ul> | String | Optional | New feed ID that replaces the current feed that is out of date or no longer maintained by the provider. Can be multiple feeds, separated by a vertical bar (\|).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <ul><li>comment</li></ul> | Optional | Optional | Comment to explain redirect if needed (e.g new aggregate feed). If multiple feeds are specified, there should be multiple comments separated by a vertical bar (\|).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                     |
| location           | Object | Required | Contains  <ul><li>Text that describes the feed's location in the `country_code`, `subdivision_name`, and `municipality` fields.</li><li>Latitude, longitude, date and time that describes the feed's bounding box in the `bounding_box` subobject. </li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <ul><li>country_code</li></ul> | Text |Required                  | ISO 3166-1 alpha-2 code designating the country where the feed service is located based on the number of stops. When multiple countries are included, the country with the most stops is displayed. For a list of valid codes [see here](https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes).                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <ul><li>subdivision_name</li></ul>  | Text |Optional              | ISO 3166-2 subdivision name designating the subdivision (e.g province, state, region) where the feed service is located based on the number of stops. When multiple subdivisions are included, the one with the most stops is displayed. For a list of valid names [see here](https://unece.org/trade/uncefact/unlocode-country-subdivisions-iso-3166-2).                                                                                                                                                                                                                                                                                                                                                                |  
| <ul><li>municipality</li></ul>      | Text |Optional              | Municipality in which the feed service is located based on the number of stops. When there are multiple municipalities, the one with the most stops is displayed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |  
| <ul><li>bounding_box</li></ul>      | Object|System generated             | Bounding box of the feed based on stops. Contains `minimum_latitude`, `maximum_latitude`, `minimum_longitude`, `maximum_longitude` and `extracted_on` fields. If the bounding box information displays as "null", you can check any potential feed errors with [the GTFS validator](https://github.com/MobilityData/gtfs-validator).                                                                                                                                                                                                                                                                                                                                                                                     |  
| <ul><ul><li>minimum_latitude</li></ul></ul> | Latitude | System generated                    | The minimum latitude for the feed's bounding box.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
| <ul><ul><li>maximum_latitude</li></ul></ul>  | Latitude | System generated                    | The maximum latitude for the feed's bounding box.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
| <ul><ul><li>minimum_longitude</li></ul></ul> | Longitude | System generated                    | The minimum longitude for the feed's bounding box.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
| <ul><ul><li>maximum_longitude</li></ul></ul> | Longitude | System generated                    | The maximum longitude for the feed's bounding box.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
| <ul><ul><li>extracted_on</li></ul></ul>      | Date and Time | System generated                    | The date and timestamp the bounding box was extracted on in UTC.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
| provider           | Text | Required                   | A commonly used name for the transit provider included in the feed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| feed_contact_email | Text | Optional | The contact information for the data producer of the feed, discovered via feed_info.feed_contact_email in the feed, the provider's website, or the Mobility Database contributor form.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 
| name               |  Text |Optional              | An optional description of the feed, e.g to specify if the feed is an aggregate of multiple providers, or which network is represented by the feed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| urls               | Object | Required | Contains URLs associated with the feed in the `direct_download_url`, `latest`, and `license` fields.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <ul><li>direct_download</li></ul>   |URL|Optional     | URL that automatically opens the feed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <ul><li>authentication_type</li></ul> |Enum|Optional | The **authentication_type** field defines the type of authentication required to access the URL. Valid values for this field are: <ul> <li>**0** or **(empty)** - No authentication required.</li><li>**1** - The authentication requires an API key, which should be passed as value of the parameter `api_key_parameter_name` in the URL. Please visit URL in `authentication_info_url` for more information. </li><li>**2** - The authentication requires an HTTP header, which should be passed as the value of the header `api_key_parameter_name` in the HTTP request. </li></ul> When not provided, the authentication type is assumed to be **0**.                                                               |
| <ul><li>authentication_info_url</li></ul> | URL| Conditionally required | If authentication is required, the **authentication_info_url** field contains a URL to a human-readable page describing how the authentication should be performed and how credentials can be created. This field is required for `authentication_type=1` and `authentication_type=2`.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <ul><li>api_key_parameter_name</li></ul> |Text|Conditionally required | The **api_key_parameter_name** field defines the name of the parameter to pass in the URL to provide the API key. This field is required for `authentication_type=1` and `authentication_type=2`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <ul><li>latest</li></ul>             | URL | System generated | A stable URL for the latest dataset of a feed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <ul><li>license</li></ul>            |URL| Optional     | The license information for the direct download URL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

## GTFS Realtime Schema| id |  Unique ID | System generated | Unique identifier for the feed.<br>Note that this field replaces mdb_source_id, that only contained digits, from a previous version of the schema. <br>Now an id can contain non-numeric characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   


|Field Name|Type|Presence|Definition|  
|-|-|-|-|
| id |  Unique ID | System generated | Unique identifier for the feed.<br>Note that this field replaces mdb_source_id, that only contained digits, from a previous version of the schema. <br>Now an id can contain non-numeric characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
| data_type | Enum| Required| The data format that the feed uses: `gtfs-rt`.                                                                                               |
|entity_type|Array of Enums|Required|The type of realtime entity: `vp`, `tu`, or `sa` which represent vehicle positions, trip updates, and service alerts.<br>Elements of the array are separated by a vertical bar (\|).
| provider | Text | Required                   | A commonly used name for the transit provider included in the feed. 
| name |  Text |Optional              | An optional description of the feed, e.g to specify if the feed is an aggregate of multiple providers
|note|Text| Optional|A note to clarify complex use cases for consumers, for example when several static feeds are associated with a realtime feed. |  
| features | Array of Enums | Optional | An array of features which can be any of: <ul><li>`occupancy`</li></ul> |  
| status | Enum | Optional |  Describes status of the feed. Should be one of: <ul><li>`active`: Feed should be used in public trip planners.</li><li>`deprecated`: Feed is explicitly deprecated and should not be used in public trip planners.</li><li>`inactive`: Feed hasn't been recently updated and should be used at risk of providing outdated information.</li><li>`development`: Feed is being used for development purposes and should not be used in public trip planners.</li></ul>Feed is assumed to be `active` if status is not explicitly provided.|  | 
| is_official | Enum | Optional | Flag indicating if the source comes from the agency itself or not.  <ul><li>`True`: Feed comes from the agency as an authorized source.</li><li>`False`: Feed is not from an official source, e.g. created by researchers or partners unaffiliated with the agency or municipality.</li></ul>Feed's is_official status is assumed to be undefined `undefined` if the cell is empty, meaning we cannot say if it's official or not.                                                                                                                                                                                                                                                                                       |  
|redirect| Object | Optional | When a feed is deprecated by a provider and replaced with a new URL, redirect information is provided to point to one or more new feed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| - id | String | Optional | New feed ID that replaces the current feed that is out of date or no longer maintained by the provider. |
| - comment | String | Optional | comment to explain redirect if needed (e.g new aggregate feed) |
| static_reference |  Array of Strings |Optional              | A list of the static feeds that the real time feed is associated with, represented by their MDB source IDs. |  
|urls| Object | Required | Contains URLs associated with the feed in the `direct_download_url` and `license_url` fields, and the authentication info for `direct_download_url` in the `authentication_type`, `authentication_info_url` and `api_key_parameter_name` fields.
|- direct_download_url |URL|Required     | URL that responds with an encoded [GTFS Realtime protocol buffer message](https://github.com/google/transit/tree/master/gtfs-realtime/spec/en#data-format).                                                                                               
|- authentication_type |Enum|Optional | The **authentication_type** field defines the type of authentication required to access the URL. Valid values for this field are: <ul> <li>**0** or **(empty)** - No authentication required.</li><li>**1** - The authentication requires an API key, which should be passed as value of the parameter `api_key_parameter_name` in the URL. Please visit URL in `authentication_info_url` for more information. </li><li>**2** - The authentication requires an HTTP header, which should be passed as the value of the header `api_key_parameter_name` in the HTTP request. </li></li>**3**: Ad-hoc authentication required, visit URL in `authentication_info_url` for more information.</li></ul> When not provided, the authentication type is assumed to be **0**.|
|- authentication_info_url | URL| Conditionally required | If authentication is required, the **authentication_info_url** field contains a URL to a human-readable page describing how the authentication should be performed and how credentials can be created. This field is required for `authentication_type=1` or greater. |
|- api_key_parameter_name |Text|Conditionally required | The **api_key_parameter_name** field defines the name of the parameter to pass in the URL to provide the API key. This field is required for `authentication_type=1` and `authentication_type=2`.  |  
|- license_url |URL| Optional     | The license information for  `direct_download_url`.
